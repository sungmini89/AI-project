var e=Object.defineProperty,t=(t,n,a)=>(((t,n,a)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a})(t,"symbol"!=typeof n?n+"":n,a),a);import{a as n,r as a,R as s,j as r,S as i,b as o,T as l,I as c,c as d,d as u,P as m,C as h,V as p,L as f,e as x,f as g,g as v,h as y,i as w,k as b,l as j,m as N,F as k,n as S,o as C}from"./ui-radix-b2de37c2.js";import{i as E,g as T,c as L,o as U,d as R,u as P,s as D,e as A,f as I,h as O,j as F,k as H,l as B,m as M,n as $,p as z,q as G,w as _,r as W,t as q,v as V,x as J,y as Y,z as K,A as Q,B as X,C as Z}from"./firebase-48a23e42.js";import{t as ee,c as te,a as ne,G as ae,M as se,U as re,Z as ie,S as oe,b as le,d as ce,L as de,e as ue,f as me,g as he,R as pe,h as fe,C as xe,i as ge,j as ve,A as ye,k as we,l as be,m as je,X as Ne,n as ke}from"./ui-components-60ef1e86.js";import{f as Se}from"./translation-95ccdb9e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ce,Ee,Te={},Le=n;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ue.apply(this,arguments)}Te.createRoot=Le.createRoot,Te.hydrateRoot=Le.hydrateRoot,(Ee=Ce||(Ce={})).Pop="POP",Ee.Push="PUSH",Ee.Replace="REPLACE";const Re="popstate";function Pe(e){return void 0===e&&(e={}),function(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:r=!1}=a,i=s.history,o=Ce.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(Ue({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function u(){o=Ce.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function m(e,t){o=Ce.Push;let a=Oe(f.location,e,t);n&&n(a,e),c=d()+1;let u=Ie(a,c),m=f.createHref(a);try{i.pushState(u,"",m)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(m)}r&&l&&l({action:o,location:f.location,delta:1})}function h(e,t){o=Ce.Replace;let a=Oe(f.location,e,t);n&&n(a,e),c=d();let s=Ie(a,c),u=f.createHref(a);i.replaceState(s,"",u),r&&l&&l({action:o,location:f.location,delta:0})}function p(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"==typeof e?e:Fe(e);return n=n.replace(/ $/,"%20"),De(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let f={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Re,u),l=e,()=>{s.removeEventListener(Re,u),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:m,replace:h,go:e=>i.go(e)};return f}(function(e,t){let{pathname:n,search:a,hash:s}=e.location;return Oe("",{pathname:n,search:a,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:Fe(t)},null,e)}function De(e,t){if(!1===e||null==e)throw new Error(t)}function Ae(e,t){if(!e)try{throw new Error(t)}catch(n){}}function Ie(e,t){return{usr:e.state,key:e.key,idx:t}}function Oe(e,t,n,a){return void 0===n&&(n=null),Ue({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?He(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function Fe(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function He(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}var Be,Me;function $e(e,t,n){return void 0===n&&(n="/"),function(e,t,n,a){let s="string"==typeof t?He(t):t,r=tt(s.pathname||"/",n);if(null==r)return null;let i=ze(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let l=0;null==o&&l<i.length;++l){let e=et(r);o=Xe(i[l],e,a)}return o}(e,t,n,!1)}function ze(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let s=(e,s,r)=>{let i={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(De(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=rt([a,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(De(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),ze(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Qe(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of Ge(e.path))s(e,t,a);else s(e,t)}),t}function Ge(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===a.length)return s?[r,""]:[r];let i=Ge(a.join("/")),o=[];return o.push(...i.map(e=>""===e?r:[r,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(Me=Be||(Be={})).data="data",Me.deferred="deferred",Me.redirect="redirect",Me.error="error";const _e=/^:[\w-]+$/,We=3,qe=2,Ve=1,Je=10,Ye=-2,Ke=e=>"*"===e;function Qe(e,t){let n=e.split("/"),a=n.length;return n.some(Ke)&&(a+=Ye),t&&(a+=qe),n.filter(e=>!Ke(e)).reduce((e,t)=>e+(_e.test(t)?We:""===t?Ve:Je),a)}function Xe(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,s={},r="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===r?t:t.slice(r.length)||"/",d=Ze({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=Ze({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:rt([r,d.pathname]),pathnameBase:it(rt([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=rt([r,d.pathnameBase]))}return i}function Ze(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ae("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,t?void 0:"i");return[r,a]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],i=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:s}=t;if("*"===a){let e=o[n]||"";i=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:i,pattern:e}}function et(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Ae(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function tt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function nt(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function at(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function st(e,t,n,a){let s;void 0===a&&(a=!1),"string"==typeof e?s=He(e):(s=Ue({},e),De(!s.pathname||!s.pathname.includes("?"),nt("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),nt("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),nt("#","search","hash",s)));let r,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)r=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:s=""}="string"==typeof e?He(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:ot(a),hash:lt(s)}}(s,r),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const rt=e=>e.join("/").replace(/\/\/+/g,"/"),it=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ot=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",lt=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const ct=["post","put","patch","delete"];new Set(ct);const dt=["get",...ct];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ut.apply(this,arguments)}new Set(dt);const mt=a.createContext(null),ht=a.createContext(null),pt=a.createContext(null),ft=a.createContext(null),xt=a.createContext({outlet:null,matches:[],isDataRoute:!1}),gt=a.createContext(null);function vt(){return null!=a.useContext(ft)}function yt(){return vt()||De(!1),a.useContext(ft).location}function wt(e){a.useContext(pt).static||a.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=a.useContext(xt);return e?function(){let{router:e}=function(){let e=a.useContext(mt);return e||De(!1),e}(Lt.UseNavigateStable),t=Rt(Ut.UseNavigateStable),n=a.useRef(!1);return wt(()=>{n.current=!0}),a.useCallback(function(a,s){void 0===s&&(s={}),n.current&&("number"==typeof a?e.navigate(a):e.navigate(a,ut({fromRouteId:t},s)))},[e,t])}():function(){vt()||De(!1);let e=a.useContext(mt),{basename:t,future:n,navigator:s}=a.useContext(pt),{matches:r}=a.useContext(xt),{pathname:i}=yt(),o=JSON.stringify(at(r,n.v7_relativeSplatPath)),l=a.useRef(!1);return wt(()=>{l.current=!0}),a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"==typeof n)return void s.go(n);let r=st(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:rt([t,r.pathname])),(a.replace?s.replace:s.push)(r,a.state,a)},[t,s,o,i,e])}()}const jt=a.createContext(null);function Nt(e,t){let{relative:n}=void 0===t?{}:t,{future:s}=a.useContext(pt),{matches:r}=a.useContext(xt),{pathname:i}=yt(),o=JSON.stringify(at(r,s.v7_relativeSplatPath));return a.useMemo(()=>st(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function kt(e,t){return function(e,t,n,s){vt()||De(!1);let{navigator:r}=a.useContext(pt),{matches:i}=a.useContext(xt),o=i[i.length-1],l=o?o.params:{};!o||o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d,u=yt();if(t){var m;let e="string"==typeof t?He(t):t;"/"===c||(null==(m=e.pathname)?void 0:m.startsWith(c))||De(!1),d=e}else d=u;let h=d.pathname||"/",p=h;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=$e(e,{pathname:p}),x=function(e,t,n,s){var r;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===s&&(s=null);if(null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||De(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:a}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,s,r)=>{let i,u=!1,m=null,h=null;var p;n&&(i=l&&s.route.id?l[s.route.id]:void 0,m=s.route.errorElement||Ct,c&&(d<0&&0===r?(p="route-fallback",!1||Pt[p]||(Pt[p]=!0),u=!0,h=null):d===r&&(u=!0,h=s.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),x=()=>{let t;return t=i?m:u?h:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(Tt,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===r)?a.createElement(Et,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:rt([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:rt([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,s);if(t&&x)return a.createElement(ft.Provider,{value:{location:ut({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ce.Pop}},x);return x}(e,t)}function St(){let e=function(){var e;let t=a.useContext(gt),n=function(){let e=a.useContext(ht);return e||De(!1),e}(Ut.UseRouteError),s=Rt(Ut.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const Ct=a.createElement(St,null);class Et extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?a.createElement(xt.Provider,{value:this.props.routeContext},a.createElement(gt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tt(e){let{routeContext:t,match:n,children:s}=e,r=a.useContext(mt);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(xt.Provider,{value:t},s)}var Lt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lt||{}),Ut=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ut||{});function Rt(e){let t=function(){let e=a.useContext(xt);return e||De(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}const Pt={};function Dt(e){let{to:t,replace:n,state:s,relative:r}=e;vt()||De(!1);let{future:i,static:o}=a.useContext(pt),{matches:l}=a.useContext(xt),{pathname:c}=yt(),d=bt(),u=st(t,at(l,i.v7_relativeSplatPath),c,"path"===r),m=JSON.stringify(u);return a.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:r}),[d,m,r,n,s]),null}function At(e){return function(e){let t=a.useContext(xt).outlet;return t?a.createElement(jt.Provider,{value:e},t):t}(e.context)}function It(e){De(!1)}function Ot(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Ce.Pop,navigator:i,static:o=!1,future:l}=e;vt()&&De(!1);let c=t.replace(/^\/*/,"/"),d=a.useMemo(()=>({basename:c,navigator:i,static:o,future:ut({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);"string"==typeof s&&(s=He(s));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:f="default"}=s,x=a.useMemo(()=>{let e=tt(u,c);return null==e?null:{location:{pathname:e,search:m,hash:h,state:p,key:f},navigationType:r}},[c,u,m,h,p,f,r]);return null==x?null:a.createElement(pt.Provider,{value:d},a.createElement(ft.Provider,{children:n,value:x}))}function Ft(e){let{children:t,location:n}=e;return kt(Ht(t),n)}function Ht(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let r=[...t,s];if(e.type===a.Fragment)return void n.push.apply(n,Ht(e.props.children,r));e.type!==It&&De(!1),e.props.index&&e.props.children&&De(!1);let i={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ht(e.props.children,r)),n.push(i)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bt.apply(this,arguments)}new Promise(()=>{});const Mt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(pa){}const $t=s.startTransition;function zt(e){let{basename:t,children:n,future:s,window:r}=e,i=a.useRef();null==i.current&&(i.current=Pe({window:r,v5Compat:!0}));let o=i.current,[l,c]=a.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=a.useCallback(e=>{d&&$t?$t(()=>c(e)):c(e)},[c,d]);return a.useLayoutEffect(()=>o.listen(u),[o,u]),a.useEffect(()=>{return null==(e=s)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[s]),a.createElement(Ot,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Gt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=a.forwardRef(function(e,t){let n,{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=e,h=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,Mt),{basename:p}=a.useContext(pt),f=!1;if("string"==typeof d&&_t.test(d)&&(n=d,Gt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=tt(t.pathname,p);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:f=!0}catch(pa){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;vt()||De(!1);let{basename:s,navigator:r}=a.useContext(pt),{hash:i,pathname:o,search:l}=Nt(e,{relative:n}),c=o;return"/"!==s&&(c="/"===o?s:rt([s,o])),r.createHref({pathname:c,search:l,hash:i})}(d,{relative:r}),g=function(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=bt(),d=yt(),u=Nt(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==s?s:Fe(d)===Fe(u);c(e,{replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,r,n,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:m});return a.createElement("a",Bt({},h,{href:n||x,onClick:f||i?s:function(e){s&&s(e),e.defaultPrevented||g(e)},ref:t,target:c}))});var qt,Vt,Jt,Yt;(Vt=qt||(qt={})).UseScrollRestoration="useScrollRestoration",Vt.UseSubmit="useSubmit",Vt.UseSubmitFetcher="useSubmitFetcher",Vt.UseFetcher="useFetcher",Vt.useViewTransitionState="useViewTransitionState",(Yt=Jt||(Jt={})).UseFetcher="useFetcher",Yt.UseFetchers="useFetchers",Yt.UseScrollRestoration="useScrollRestoration";const Kt=E({apiKey:"AIzaSyDDsA8jERJN1-CMHhWXTDYbUZK5EhdMnaU",authDomain:"realtime-translation-cha-d8ff0.firebaseapp.com",projectId:"realtime-translation-cha-d8ff0",storageBucket:"realtime-translation-cha-d8ff0.firebasestorage.app",messagingSenderId:"933819721017",appId:"1:933819721017:web:105477a4c4716dceb574e8"}),Qt=T(Kt),Xt=L(Kt),Zt=class e{constructor(){t(this,"currentUser",null),this.initializeAuthListener()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeAuthListener(){U(Qt,async e=>{e?await this.syncUserData(e):this.currentUser=null})}async signUp(e,t,n){try{const a=await R(Qt,e,t),s=a.user;return await P(s,{displayName:n}),await D(s),await this.createUserDocument(s,n),a}catch(a){throw a}}async signIn(e,t){try{const n=await A(Qt,e,t);return await this.updateUserPresence(n.user.uid,!0),n}catch(n){throw n}}async signInAnonymously(e){try{const t=await I(Qt),n=t.user,a=e||`Guest_${n.uid.slice(-4)}`;return await this.createUserDocument(n,a),t}catch(t){throw t}}async signOut(){try{this.currentUser&&await this.updateUserPresence(this.currentUser.uid,!1),await O(Qt)}catch(e){throw e}}async createUserDocument(e,t){var n;const a={displayName:t||(null==(n=e.email)?void 0:n.split("@")[0])||"Anonymous",photoURL:e.photoURL||"",preferredLanguage:"ko",isOnline:!0,lastSeen:Date.now()},s=F(Xt,"users",e.uid);await H(s,{...a,createdAt:$(),updatedAt:$()})}async syncUserData(e){try{const t=F(Xt,"users",e.uid),n=await B(t);n.exists()?await M(t,{isOnline:!0,lastSeen:Date.now(),updatedAt:$()}):await this.createUserDocument(e,e.displayName||"");const a=n.data();this.currentUser={uid:e.uid,displayName:e.displayName||(null==a?void 0:a.displayName)||"Anonymous",photoURL:e.photoURL||(null==a?void 0:a.photoURL)||"",preferredLanguage:(null==a?void 0:a.preferredLanguage)||"ko",isOnline:!0,lastSeen:Date.now()}}catch(t){}}async updateUserPresence(e,t){try{const n=F(Xt,"users",e);await M(n,{isOnline:t,lastSeen:Date.now(),updatedAt:$()}),this.currentUser&&this.currentUser.uid===e&&(this.currentUser.isOnline=t,this.currentUser.lastSeen=Date.now())}catch(n){}}async updateUserProfile(e){try{const t=Qt.currentUser;if(!t)throw new Error("No authenticated user");e.displayName&&e.displayName!==t.displayName&&await P(t,{displayName:e.displayName});const n=F(Xt,"users",t.uid);await M(n,{...e,updatedAt:$()}),this.currentUser&&Object.assign(this.currentUser,e)}catch(t){throw t}}async getUserData(e){try{const t=F(Xt,"users",e),n=await B(t);if(!n.exists())return null;const a=n.data();return{uid:e,displayName:a.displayName||"Anonymous",photoURL:a.photoURL||"",preferredLanguage:a.preferredLanguage||"ko",isOnline:a.isOnline||!1,lastSeen:a.lastSeen||Date.now()}}catch(t){return null}}async getMultipleUsersData(e){const t={},n=e.map(async e=>{const n=await this.getUserData(e);n&&(t[e]=n)});return await Promise.allSettled(n),t}subscribeToUserPresence(e,t){if(0===e.length)return t({}),()=>{};const n=z(Xt,"users"),a=G(n,_("__name__","in",e));return W(a,e=>{const n={};e.forEach(e=>{const t=e.data();n[e.id]={uid:e.id,displayName:t.displayName||"Anonymous",photoURL:t.photoURL||"",preferredLanguage:t.preferredLanguage||"ko",isOnline:t.isOnline||!1,lastSeen:t.lastSeen||Date.now()}}),t(n)},e=>{t({})})}getCurrentUser(){return this.currentUser}isAuthenticated(){return null!==Qt.currentUser}async sendPasswordResetEmail(e){try{await q(Qt,e)}catch(t){throw t}}async resendEmailVerification(){try{const e=Qt.currentUser;if(!e)throw new Error("No authenticated user");await D(e)}catch(e){throw e}}setupOfflineDetection(){window.addEventListener("beforeunload",()=>{this.currentUser&&navigator.sendBeacon("/api/offline",JSON.stringify({uid:this.currentUser.uid}))}),document.addEventListener("visibilitychange",()=>{if(this.currentUser){const e=!document.hidden;this.updateUserPresence(this.currentUser.uid,e)}}),setInterval(()=>{this.currentUser&&this.currentUser.isOnline&&this.updateUserPresence(this.currentUser.uid,!0)},3e4)}};t(Zt,"instance");const en=Zt.getInstance(),tn=a.createContext({theme:"system",setTheme:()=>null});function nn({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...s}){const[i,o]=a.useState(()=>localStorage.getItem(n)||t);a.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(i)},[i]);const l={theme:i,setTheme:e=>{localStorage.setItem(n,e),o(e)}};return r.jsx(tn.Provider,{...s,value:l,children:e})}function an(){return r.jsx(nn,{defaultTheme:"light",storageKey:"chat-theme",children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsx(At,{})})})}function sn({children:e}){const[t,n]=a.useState(null),[s,i]=a.useState(!0),o=yt();return a.useEffect(()=>{let e;return e=U(Qt,e=>{n(e),i(!1)}),()=>null==e?void 0:e()},[]),s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(Dt,{to:"/auth",state:{from:o},replace:!0})}function rn(...e){return ee(te(e))}const on=ne("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ln({className:e,variant:t,size:n,asChild:a=!1,...s}){const o=a?i:"button";return r.jsx(o,{"data-slot":"button",className:rn(on({variant:t,size:n,className:e})),...s})}function cn({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:rn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function dn({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:rn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function un({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:rn("leading-none font-semibold",e),...t})}function mn({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:rn("text-muted-foreground text-sm",e),...t})}function hn({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:rn("px-6",e),...t})}function pn({className:e,...t}){return r.jsx("div",{"data-slot":"card-footer",className:rn("flex items-center px-6 [.border-t]:pt-6",e),...t})}const fn=ne("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xn({className:e,variant:t,...n}){return r.jsx("div",{className:rn(fn({variant:t}),e),...n})}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gn(e,t,n,a){return new(n||(n=Promise))(function(s,r){function i(e){try{l(a.next(e))}catch(pa){r(pa)}}function o(e){try{l(a.throw(e))}catch(pa){r(pa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})}function vn(e,t){var n,a,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(s=2&r[0]?a.return:r[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(6===r[0]&&i.label<s[1]){i.label=s[1],s=r;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(r);break}s[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(pa){r=[6,pa],a=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yn=function(){return yn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},yn.apply(this,arguments)},wn=function(e){return{loading:null==e,value:e}},bn=function(e){var t=e?e():void 0,n=a.useReducer(function(e,t){switch(t.type){case"error":return yn(yn({},e),{error:t.error,loading:!1,value:void 0});case"reset":return wn(t.defaultValue);case"value":return yn(yn({},e),{error:void 0,loading:!1,value:t.value});default:return e}},wn(t)),s=n[0],r=n[1],i=a.useCallback(function(){var t=e?e():void 0;r({type:"reset",defaultValue:t})},[e]),o=a.useCallback(function(e){r({type:"error",error:e})},[]),l=a.useCallback(function(e){r({type:"value",value:e})},[]);return a.useMemo(function(){return{error:s.error,loading:s.loading,reset:i,setError:o,setValue:l,value:s.value}},[s.error,s.loading,i,o,l,s.value])},jn=function(e,t){var n=bn(function(){return e.currentUser}),s=n.error,r=n.loading,i=n.setError,o=n.setValue,l=n.value;return a.useEffect(function(){var n=U(e,function(e){return gn(void 0,void 0,void 0,function(){var n;return vn(this,function(a){switch(a.label){case 0:if(!(null==t?void 0:t.onUserChanged))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(n),[3,4];case 4:return o(e),[2]}})})},i);return function(){n()}},[e]),[l,r,s]};function Nn(){const[e]=jn(Qt),t=[{icon:ae,title:"실시간 번역",description:"14개 언어로 실시간 번역하여 전 세계 사람들과 소통하세요"},{icon:se,title:"즉시 채팅",description:"번역 지연 없이 자연스럽게 대화할 수 있습니다"},{icon:re,title:"다중 사용자",description:"여러 사용자가 각자의 언어로 동시에 채팅 가능합니다"},{icon:ie,title:"빠른 성능",description:"최적화된 번역 엔진으로 빠른 응답 속도를 제공합니다"},{icon:oe,title:"안전한 채팅",description:"Firebase 인증으로 안전하게 보호되는 채팅방입니다"},{icon:le,title:"반응형 디자인",description:"모바일, 태블릿, 데스크톱에서 모두 완벽하게 작동합니다"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xn,{variant:"secondary",className:"mb-4",children:"🌍 전 세계와 소통하세요"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:"실시간 번역 채팅"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto",children:"언어의 벽을 넘어 전 세계 사람들과 자유롭게 소통하세요. 14개 언어로 실시간 번역되는 혁신적인 채팅 플랫폼입니다."}),r.jsx("div",{className:"flex justify-center items-center mb-12",children:e?r.jsx(ln,{asChild:!0,size:"lg",className:"text-lg px-8 py-3",children:r.jsx(Wt,{to:"/chat",children:"채팅 시작하기"})}):r.jsx(ln,{asChild:!0,size:"lg",className:"text-lg px-8 py-3",children:r.jsx(Wt,{to:"/auth",children:"무료로 시작하기"})})}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center max-w-4xl mx-auto",children:["한국어","English","日本語","中文","Español","Français","Deutsch","Italiano","Português","Русский","العربية","हिन्दी","ไทย","Tiếng Việt"].map((e,t)=>r.jsx(xn,{variant:"outline",className:"text-sm",children:e},t))})]})})]}),r.jsx("section",{id:"features",className:"py-20 bg-white/50 dark:bg-gray-800/50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"왜 실시간 번역 채팅인가요?"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"언어 장벽 없이 전 세계 사람들과 소통할 수 있는 최고의 방법을 제공합니다."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>r.jsxs(cn,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[r.jsxs(dn,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:r.jsx(e.icon,{className:"h-6 w-6 text-primary"})}),r.jsx(un,{className:"text-xl",children:e.title})]}),r.jsx(hn,{children:r.jsx(mn,{className:"text-center text-base",children:e.description})})]},t))})]})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"어떻게 작동하나요?"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"간단한 3단계로 전 세계와 소통을 시작하세요."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"1"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"계정 생성"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"이메일로 간단히 가입하고 선호하는 언어를 설정하세요."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"2"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"채팅방 참여"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"기존 채팅방에 참여하거나 새로운 채팅방을 만들어보세요."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"3"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"소통 시작"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"자신의 언어로 메시지를 보내면 자동으로 다른 언어로 번역됩니다."})]})]})]})}),r.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"지금 시작해보세요!"}),r.jsx("p",{className:"text-xl mb-8 opacity-90",children:"전 세계 사람들과 언어 장벽 없이 소통하는 새로운 경험을 만나보세요."}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?r.jsx(ln,{asChild:!0,size:"lg",variant:"secondary",className:"text-lg px-8 py-3",children:r.jsx(Wt,{to:"/chat",children:"채팅 시작하기"})}):r.jsx(ln,{asChild:!0,size:"lg",variant:"secondary",className:"text-lg px-8 py-3",children:r.jsx(Wt,{to:"/auth",children:"무료로 시작하기"})})})]})}),r.jsx("footer",{className:"bg-gray-50 dark:bg-gray-900 py-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"실시간 번역 채팅"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"언어의 벽을 넘어 전 세계와 소통하세요"}),r.jsx("div",{className:"flex justify-center space-x-4",children:e&&r.jsx(ln,{variant:"ghost",asChild:!0,children:r.jsx(Wt,{to:"/settings",children:"설정"})})})]})})})]})}const kn=a.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,ref:a,"data-slot":"input",className:rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n}));kn.displayName="Input";const Sn={cmn:"zh",eng:"en",spa:"es",fra:"fr",deu:"de",ita:"it",por:"pt",rus:"ru",jpn:"ja",kor:"ko",ara:"ar",hin:"hi",tha:"th",vie:"vi",nld:"nl",pol:"pl",swe:"sv",dan:"da",nor:"no",fin:"fi",heb:"he",tur:"tr",ukr:"uk",ces:"cs",hun:"hu",ron:"ro",cat:"ca",hrv:"hr",slk:"sk",slv:"sl",est:"et",lav:"lv",lit:"lt"};const Cn=[{code:"ko",name:"Korean",native:"한국어"},{code:"en",name:"English",native:"English"},{code:"ja",name:"Japanese",native:"日本語"},{code:"zh",name:"Chinese",native:"中文"},{code:"es",name:"Spanish",native:"Español"},{code:"fr",name:"French",native:"Français"},{code:"de",name:"German",native:"Deutsch"},{code:"it",name:"Italian",native:"Italiano"},{code:"pt",name:"Portuguese",native:"Português"},{code:"ru",name:"Russian",native:"Русский"},{code:"ar",name:"Arabic",native:"العربية"},{code:"hi",name:"Hindi",native:"हिन्दी"},{code:"th",name:"Thai",native:"ไทย"},{code:"vi",name:"Vietnamese",native:"Tiếng Việt"},{code:"nl",name:"Dutch",native:"Nederlands"},{code:"tr",name:"Turkish",native:"Türkçe"}];function En(e){const t=Cn.find(t=>t.code===e);return(null==t?void 0:t.name)||e.toUpperCase()}const Tn=en;function Ln(){const e=bt(),t=yt(),[n,s]=a.useState(!1),[i,o]=a.useState(!1),[l,c]=a.useState(!1),[d,u]=a.useState({email:"",password:"",passwordConfirm:"",displayName:"",preferredLanguage:"ko"}),[m,h]=a.useState({}),[p,f]=a.useState(!1),[x,g]=a.useState(""),v=(e,t)=>{u(n=>({...n,[e]:t})),m[e]&&h(t=>({...t,[e]:""}))},y=()=>{o(!i),s(!1),c(!1),h({}),g(""),i&&u({email:"",password:"",passwordConfirm:"",displayName:"",preferredLanguage:"ko"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:r.jsxs(cn,{className:"w-full max-w-md",children:[r.jsxs(dn,{className:"text-center",children:[r.jsx(un,{className:"text-2xl font-bold",children:i?"비밀번호 재설정":n?"회원가입":"로그인"}),r.jsx("p",{className:"text-muted-foreground",children:i?"비밀번호를 재설정하기 위해 이메일을 입력하세요":`실시간 번역 채팅에 ${n?"참여":"로그인"}하세요`})]}),r.jsx(hn,{children:r.jsxs("form",{onSubmit:async a=>{var s,r;if(a.preventDefault(),(()=>{const e={};return d.email?/\S+@\S+\.\S+/.test(d.email)||(e.email="올바른 이메일 형식을 입력해주세요"):e.email="이메일을 입력해주세요",d.password?d.password.length<6&&(e.password="비밀번호는 최소 6자 이상이어야 합니다"):e.password="비밀번호를 입력해주세요",n&&!d.passwordConfirm?e.passwordConfirm="비밀번호 확인을 입력해주세요":n&&d.password!==d.passwordConfirm&&(e.passwordConfirm="비밀번호가 일치하지 않습니다"),n&&!d.displayName&&(e.displayName="닉네임을 입력해주세요"),h(e),0===Object.keys(e).length})()){f(!0),h({}),g("");try{if(i)await Tn.sendPasswordResetEmail(d.email),c(!0),g("비밀번호 재설정 이메일이 발송되었습니다. 이메일을 확인해주세요.");else if(n)await Tn.signUp(d.email,d.password,d.displayName),await Tn.updateUserProfile({preferredLanguage:d.preferredLanguage}),g("회원가입이 완료되었습니다."),setTimeout(()=>{var n,a;const s=(null==(a=null==(n=t.state)?void 0:n.from)?void 0:a.pathname)||"/chat";e(s,{replace:!0})},1e3);else{await Tn.signIn(d.email,d.password);const n=(null==(r=null==(s=t.state)?void 0:s.from)?void 0:r.pathname)||"/chat";e(n,{replace:!0})}}catch(o){let e="인증에 실패했습니다";if(o.code)switch(o.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":e="이메일 또는 비밀번호가 올바르지 않습니다";break;case"auth/email-already-in-use":e="이미 사용 중인 이메일입니다";break;case"auth/weak-password":e="비밀번호가 너무 약합니다. 최소 6자 이상 입력해주세요";break;case"auth/invalid-email":e="올바르지 않은 이메일 형식입니다";break;case"auth/too-many-requests":e="너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요";break;case"auth/network-request-failed":e="네트워크 연결을 확인해주세요";break;case"auth/user-disabled":e="비활성화된 계정입니다. 관리자에게 문의해주세요";break;default:e=o.message||"인증에 실패했습니다"}h({submit:e})}finally{f(!1)}}},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"이메일"}),r.jsxs("div",{className:"relative",children:[r.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(kn,{type:"email",value:d.email,onChange:e=>v("email",e.target.value),className:rn("pl-10",m.email&&"border-destructive"),placeholder:"your@email.com",disabled:p})]}),m.email&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:m.email})]}),!i&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"비밀번호"}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(kn,{type:"password",value:d.password,onChange:e=>v("password",e.target.value),className:rn("pl-10",m.password&&"border-destructive"),placeholder:"최소 6자 이상",disabled:p})]}),m.password&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:m.password})]}),n&&!i&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"비밀번호 확인"}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(kn,{type:"password",value:d.passwordConfirm,onChange:e=>v("passwordConfirm",e.target.value),className:rn("pl-10",m.passwordConfirm&&"border-destructive"),placeholder:"비밀번호를 다시 입력해주세요",disabled:p})]}),m.passwordConfirm&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:m.passwordConfirm})]}),n&&!i&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"닉네임"}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(kn,{type:"text",value:d.displayName,onChange:e=>v("displayName",e.target.value),className:rn("pl-10",m.displayName&&"border-destructive"),placeholder:"채팅에서 사용할 닉네임",disabled:p,maxLength:20})]}),m.displayName&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:m.displayName})]}),n&&!i&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"선호 언어"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx("select",{value:d.preferredLanguage,onChange:e=>v("preferredLanguage",e.target.value),className:"w-full pl-10 pr-3 py-2 border rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:p,children:Cn.map(e=>r.jsxs("option",{value:e.code,children:[e.native," (",e.name,")"]},e.code))})]})]}),x&&r.jsx("div",{className:"p-3 rounded-md bg-green-50 border border-green-200 dark:bg-green-900/20 dark:border-green-800",children:r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:x})}),m.submit&&r.jsx("div",{className:"p-3 rounded-md bg-destructive/10 border border-destructive/20",children:r.jsx("p",{className:"text-sm text-destructive",children:m.submit})}),r.jsx(ln,{type:"submit",className:"w-full",disabled:p||l&&i,children:p?r.jsxs(r.Fragment,{children:[r.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),i?"이메일 발송 중...":n?"가입 중...":"로그인 중..."]}):l&&i?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"mr-2 h-4 w-4"}),"다시 발송하기"]}):i?"비밀번호 재설정":n?"회원가입":"로그인"}),!n&&!i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"또는"})})]}),r.jsx(ln,{type:"button",variant:"outline",className:"w-full",onClick:async()=>{var n,a;f(!0),h({}),g("");try{try{await Tn.signInAnonymously()}catch(s){if("auth/admin-restricted-operation"!==s.code)throw s;{const e="test@example.com",t="testpass123",n="Test Guest";try{await Tn.signUp(e,t,n)}catch(r){if("auth/email-already-in-use"!==r.code)throw r;await Tn.signIn(e,t)}}}const i=(null==(a=null==(n=t.state)?void 0:n.from)?void 0:a.pathname)||"/chat";e(i,{replace:!0})}catch(i){let e="게스트 로그인에 실패했습니다";if(i.code)switch(i.code){case"auth/admin-restricted-operation":e="익명 로그인이 비활성화되어 있습니다. Firebase 콘솔에서 활성화해주세요.";break;case"auth/operation-not-allowed":e="이메일 인증이 비활성화되어 있습니다. Firebase 설정을 확인해주세요.";break;case"auth/network-request-failed":e="네트워크 연결을 확인해주세요";break;case"auth/weak-password":e="테스트 계정 생성 중 비밀번호 오류가 발생했습니다.";break;default:e=i.message||"게스트 로그인에 실패했습니다"}h({submit:e})}finally{f(!1)}},disabled:p,children:p?r.jsxs(r.Fragment,{children:[r.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),"게스트 로그인 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"mr-2 h-4 w-4"}),"게스트로 시작하기"]})})]})]})}),r.jsx(pn,{className:"text-center",children:r.jsx("div",{className:"w-full space-y-2",children:i?r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"비밀번호를 기억하셨나요?"}),r.jsx(ln,{variant:"ghost",onClick:y,disabled:p,className:"w-full",children:"로그인으로 돌아가기"})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:n?"이미 계정이 있으신가요?":"계정이 없으신가요?"}),r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx(ln,{variant:"ghost",onClick:()=>{s(!n),o(!1),c(!1),h({}),g(""),u({email:"",password:"",passwordConfirm:"",displayName:"",preferredLanguage:"ko"})},disabled:p,className:"w-full",children:n?"로그인하기":"회원가입하기"}),!n&&r.jsx(ln,{variant:"link",onClick:y,disabled:p,className:"text-xs text-muted-foreground",children:"비밀번호를 잊으셨나요?"})]})]})})})]})})}function Un(){var e,t;const[n]=jn(Qt),s=bt(),i=(null==(t=null==(e=yt().state)?void 0:e.from)?void 0:t.pathname)||"/chat";return a.useEffect(()=>{n&&s(i,{replace:!0})},[n,s,i]),n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx("div",{className:"min-h-screen bg-background",children:r.jsx(Ln,{})})}const Rn={},Pn=a.lazy(()=>function(e,t,n){if(!t||0===t.length)return e();const a=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in Rn)return;Rn[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(n)for(let n=a.length-1;n>=0;n--){const s=a[n];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})}(()=>import("./ChatInterface-420d3ab1.js"),["assets/ChatInterface-420d3ab1.js","assets/ui-radix-b2de37c2.js","assets/firebase-48a23e42.js","assets/ui-components-60ef1e86.js","assets/translation-95ccdb9e.js"]));function Dn(){const[e]=jn(Qt);return e?r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),children:r.jsx(Pn,{user:e})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}const An=ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),In=a.forwardRef(({className:e,...t},n)=>r.jsx(o,{ref:n,className:rn(An(),e),...t}));In.displayName=o.displayName;const On=w,Fn=b,Hn=a.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(l,{ref:a,className:rn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(c,{asChild:!0,children:r.jsx(xe,{className:"h-4 w-4 opacity-50"})})]}));Hn.displayName=l.displayName;const Bn=a.forwardRef(({className:e,...t},n)=>r.jsx(d,{ref:n,className:rn("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ge,{className:"h-4 w-4"})}));Bn.displayName=d.displayName;const Mn=a.forwardRef(({className:e,...t},n)=>r.jsx(u,{ref:n,className:rn("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(xe,{className:"h-4 w-4"})}));Mn.displayName=u.displayName;const $n=a.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(m,{children:r.jsxs(h,{ref:s,className:rn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(Bn,{}),r.jsx(p,{className:rn("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Mn,{})]})}));$n.displayName=h.displayName;a.forwardRef(({className:e,...t},n)=>r.jsx(f,{ref:n,className:rn("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=f.displayName;const zn=a.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(x,{ref:a,className:rn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(g,{children:r.jsx(ve,{className:"h-4 w-4"})})}),r.jsx(v,{children:t})]}));zn.displayName=x.displayName;a.forwardRef(({className:e,...t},n)=>r.jsx(y,{ref:n,className:rn("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=y.displayName;const Gn=a.forwardRef(({className:e,...t},n)=>r.jsx(j,{ref:n,className:rn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gn.displayName=j.displayName;const _n=a.forwardRef(({className:e,...t},n)=>r.jsx(N,{ref:n,className:rn("aspect-square h-full w-full",e),...t}));_n.displayName=N.displayName;const Wn=a.forwardRef(({className:e,...t},n)=>r.jsx(k,{ref:n,className:rn("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Wn.displayName=k.displayName;var qn="horizontal",Vn=["horizontal","vertical"],Jn=a.forwardRef((e,t)=>{const{decorative:n,orientation:a=qn,...s}=e,i=function(e){return Vn.includes(e)}(a)?a:qn,o=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return r.jsx(S.div,{"data-orientation":i,...o,...s,ref:t})});Jn.displayName="Separator";var Yn=Jn;const Kn=a.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(Yn,{ref:s,decorative:n,orientation:t,className:rn("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Kn.displayName=Yn.displayName;const Qn=[{code:"ko",name:"Korean",native:"한국어"},{code:"en",name:"English",native:"English"},{code:"ja",name:"Japanese",native:"日本語"},{code:"zh",name:"Chinese",native:"中文"},{code:"es",name:"Spanish",native:"Español"},{code:"fr",name:"French",native:"Français"},{code:"de",name:"German",native:"Deutsch"},{code:"it",name:"Italian",native:"Italiano"},{code:"pt",name:"Portuguese",native:"Português"},{code:"ru",name:"Russian",native:"Русский"},{code:"ar",name:"Arabic",native:"العربية"},{code:"hi",name:"Hindi",native:"हिन्दी"},{code:"th",name:"Thai",native:"ไทย"},{code:"vi",name:"Vietnamese",native:"Tiếng Việt"}],Xn=e=>{const t=(e=>Qn.find(t=>t.code===e))(e);return t?`${t.native} (${t.name})`:e.toUpperCase()};function Zn(){const e=bt(),[t]=jn(Qt),[n,s]=a.useState(null),[i,o]=a.useState(""),[l,c]=a.useState(""),[d,u]=a.useState(!1);a.useEffect(()=>{if(t){const e=en.getCurrentUser();e&&(s(e),o(e.displayName),c(e.preferredLanguage))}},[t]);return t&&n?r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"border-b",children:r.jsx("div",{className:"max-w-4xl mx-auto p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ln,{variant:"ghost",size:"icon",onClick:()=>{e(-1)},children:r.jsx(ye,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"설정"}),r.jsx("p",{className:"text-muted-foreground",children:"계정 및 언어 설정을 관리하세요"})]})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[r.jsxs(cn,{children:[r.jsx(dn,{className:"flex flex-row items-center space-y-0",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ue,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx(un,{children:"프로필"}),r.jsx(mn,{children:"표시 이름과 기본 정보를 관리하세요"})]})]})}),r.jsx(hn,{className:"space-y-6",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs(Gn,{className:"h-20 w-20",children:[r.jsx(_n,{src:n.photoURL||void 0}),r.jsx(Wn,{className:"text-lg",children:n.displayName.charAt(0).toUpperCase()})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx(In,{htmlFor:"email",children:"이메일 주소"}),r.jsx(kn,{id:"email",value:t.email||"",disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{children:[r.jsx(In,{htmlFor:"displayName",children:"표시 이름"}),r.jsx(kn,{id:"displayName",value:i,onChange:e=>o(e.target.value),placeholder:"표시될 이름을 입력하세요"})]})]})})]})})]}),r.jsxs(cn,{children:[r.jsx(dn,{className:"flex flex-row items-center space-y-0",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ae,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx(un,{children:"언어 설정"}),r.jsx(mn,{children:"기본 언어를 설정하면 메시지를 해당 언어로 번역해서 보여줍니다"})]})]})}),r.jsxs(hn,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(In,{htmlFor:"language",children:"기본 언어"}),r.jsxs(On,{value:l,onValueChange:c,children:[r.jsx(Hn,{children:r.jsx(Fn,{placeholder:"언어를 선택하세요"})}),r.jsx($n,{children:Qn.map(e=>r.jsx(zn,{value:e.code,children:r.jsxs("span",{className:"flex items-center gap-2",children:[e.native," (",e.name,")"]})},e.code))})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["현재 선택된 언어: ",r.jsx("strong",{children:Xn(l)})]})]}),r.jsx(Kn,{}),r.jsxs("div",{children:[r.jsx(In,{children:"지원되는 언어"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Qn.map(e=>r.jsx(xn,{variant:e.code===l?"default":"outline",className:"text-xs",children:e.native},e.code))}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["총 ",Qn.length,"개 언어가 지원됩니다"]})]})]})]}),r.jsxs(cn,{children:[r.jsx(dn,{className:"flex flex-row items-center space-y-0",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(oe,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx(un,{children:"계정 상태"}),r.jsx(mn,{children:"현재 계정의 상태와 정보입니다"})]})]})}),r.jsx(hn,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(In,{children:"현재 상태"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"온라인"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(In,{children:"이메일 인증"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+(t.emailVerified?"bg-green-500":"bg-yellow-500")}),r.jsx("span",{className:"text-sm",children:t.emailVerified?"인증됨":"미인증"})]})]})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(ln,{onClick:async()=>{if(t&&n){u(!0);try{await en.updateUserProfile({displayName:i.trim(),preferredLanguage:l}),s(e=>e?{...e,displayName:i.trim(),preferredLanguage:l}:null),alert("설정이 성공적으로 저장되었습니다!")}catch(e){alert("설정 저장에 실패했습니다. 다시 시도해주세요.")}finally{u(!1)}}},disabled:d||!i.trim(),className:"flex-1",children:d?r.jsxs(r.Fragment,{children:[r.jsx(he,{className:"h-4 w-4 mr-2 animate-spin"}),"저장 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(we,{className:"h-4 w-4 mr-2"}),"설정 저장"]})}),r.jsxs(ln,{variant:"outline",onClick:async()=>{if(window.confirm("정말 로그아웃하시겠습니까?"))try{await en.signOut(),e("/")}catch(t){alert("로그아웃에 실패했습니다.")}},className:"sm:w-auto",children:[r.jsx(be,{className:"h-4 w-4 mr-2"}),"로그아웃"]})]}),r.jsx(cn,{className:"bg-muted/50",children:r.jsx(hn,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"설정 변경사항은 모든 디바이스에서 자동으로 동기화됩니다."}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["계정 ID: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[t.uid.slice(0,8),"..."]})]})]})})})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}const ea=class e{constructor(){t(this,"quotas",new Map),this.initializeQuotas()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeQuotas(){const e=(new Date).toDateString(),t=localStorage.getItem("translation-quotas");if(t)try{const n=JSON.parse(t);if(n.date===e)return void(this.quotas=new Map(n.quotas))}catch(pa){}this.quotas.set("mymemory",{provider:"mymemory",dailyLimit:1e3,currentUsage:0,lastReset:Date.now()}),this.quotas.set("libretranslate",{provider:"libretranslate",dailyLimit:100,currentUsage:0,lastReset:Date.now()}),this.saveQuotas()}saveQuotas(){const e={date:(new Date).toDateString(),quotas:Array.from(this.quotas.entries())};localStorage.setItem("translation-quotas",JSON.stringify(e))}canUseProvider(e){const t=this.quotas.get(e);return!!t&&t.currentUsage<t.dailyLimit}incrementUsage(e){const t=this.quotas.get(e);t&&(t.currentUsage++,this.saveQuotas())}getQuota(e){return this.quotas.get(e)}};t(ea,"instance");let ta=ea;async function na(e,t,n){const a=ta.getInstance();if(!a.canUseProvider("mymemory"))throw new Error("MyMemory daily quota exceeded");const s=new URLSearchParams({q:e,langpair:`${t}|${n}`,de:"your-email@domain.com"});try{const r=await fetch(`https://api.mymemory.translated.net/get?${s}`,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`MyMemory API error: ${r.status}`);const i=await r.json();if(200!==i.responseStatus)throw new Error(`MyMemory translation failed: ${i.responseDetails}`);a.incrementUsage("mymemory");const o=i.responseData.translatedText,l=i.responseData.match/100;if(l<.3||o.toLowerCase().includes("my name is")||o.toLowerCase().includes("제 이름은")||o.toLowerCase().includes("i am")||o.toLowerCase().includes("저는")||"hello"===e.toLowerCase()&&!o.toLowerCase().includes("안녕")&&"ko"===n)throw new Error("Low quality translation, trying fallback");return{translatedText:o,sourceLanguage:t,targetLanguage:n,confidence:l,provider:"mymemory"}}catch(r){throw r}}async function aa(e,t,n){const a=ta.getInstance();if(!a.canUseProvider("libretranslate"))throw new Error("LibreTranslate daily quota exceeded");const s={}.VITE_LIBRETRANSLATE_KEY,r=["https://libretranslate.de","https://libretranslate.pussthecat.org/translate","https://translate.argosopentech.com/translate","https://libretranslate.com/translate","https://libretranslate.de/translate"];let i=new Error("All LibreTranslate instances failed");for(const l of r)try{const r=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}},body:JSON.stringify({q:e,source:t,target:n,format:"text"})});if(!r.ok)throw new Error(`LibreTranslate API error: ${r.status}`);const i=await r.json();return a.incrementUsage("libretranslate"),{translatedText:i.translatedText,sourceLanguage:t,targetLanguage:n,provider:"libretranslate"}}catch(o){i=o;continue}throw i}const sa={ko:{en:"안녕하세요 - Hello\n안녕 - Hi\n좋은 아침 - Good morning\n좋은 오후 - Good afternoon\n좋은 저녁 - Good evening\n좋은 밤 - Good night\n감사합니다 - Thank you\n고마워요 - Thanks\n천만에요 - You're welcome\n죄송합니다 - Sorry\n미안해요 - I'm sorry\n실례합니다 - Excuse me\n부탁합니다 - Please\n네 - Yes\n아니요 - No\n아마도 - Maybe\n물론 - Of course\n잘 지내세요 - Take care\n안녕히 가세요 - Goodbye\n나중에 봐요 - See you later\n내일 봐요 - See you tomorrow\n좋아요 - Good\n나쁘다 - Bad\n훌륭해요 - Great\n좋네요 - Nice\n아름다워요 - Beautiful\n맛있어요 - Delicious\n어떻게 지내세요 - How are you\n괜찮아요 - I'm fine\n이름이 뭐예요 - What's your name\n만나서 반가워요 - Nice to meet you\n사랑해요 - I love you\n그리워요 - I miss you\n도움 - Help\n도움이 필요해요 - I need help\n이해 못해요 - I don't understand\n영어 할 줄 아세요 - Do you speak English\n물 - Water\n음식 - Food\n커피 - Coffee\n차 - Tea\n맥주 - Beer\n식당 - Restaurant\n호텔 - Hotel\n공항 - Airport\n역 - Station\n병원 - Hospital\n택시 - Taxi\n버스 - Bus\n기차 - Train\n얼마예요 - How much\n비싸요 - Expensive\n싸요 - Cheap\n오늘 - Today\n내일 - Tomorrow\n어제 - Yesterday\n지금 - Now\n나중에 - Later\n항상 - Always\n절대 - Never\n가끔 - Sometimes\n행복해요 - Happy\n슬퍼요 - Sad\n화나요 - Angry\n피곤해요 - Tired\n배고파요 - Hungry\n목말라요 - Thirsty",ja:"안녕하세요 - こんにちは\n안녕 - こんにちは\n좋은 아침 - おはようございます\n좋은 오후 - こんにちは\n좋은 저녁 - こんばんは\n좋은 밤 - おやすみなさい\n감사합니다 - ありがとうございます\n고마워요 - ありがとう\n천만에요 - どういたしまして\n죄송합니다 - すみません\n미안해요 - すみません\n실례합니다 - すみません\n부탁합니다 - お願いします\n네 - はい\n아니요 - いいえ\n아마도 - たぶん\n물론 - もちろん\n잘 지내세요 - 元気でね\n안녕히 가세요 - さようなら\n나중에 봐요 - また後で\n내일 봐요 - また明日\n좋아요 - 良い\n나쁘다 - 悪い\n훌륭해요 - 素晴らしい\n좋네요 - いいね\n아름다워요 - 美しい\n맛있어요 - おいしい\n어떻게 지내세요 - 元気ですか\n괜찮아요 - 元気です\n이름이 뭐예요 - お名前は何ですか\n만나서 반가워요 - はじめまして\n사랑해요 - 愛しています\n그리워요 - 恋しいです\n도움 - 助けて\n도움이 필요해요 - 助けてください\n이해 못해요 - わかりません\n일본어 할 줄 아세요 - 日本語を話せますか\n물 - 水\n음식 - 食べ物\n커피 - コーヒー\n차 - お茶\n맥주 - ビール\n식당 - レストラン\n호텔 - ホテル\n공항 - 空港\n역 - 駅\n병원 - 病院\n택시 - タクシー\n버스 - バス\n기차 - 電車\n얼마예요 - いくらですか\n비싸요 - 高い\n싸요 - 安い\n오늘 - 今日\n내일 - 明日\n어제 - 昨日\n지금 - 今\n나중에 - 後で\n항상 - いつも\n절대 - 決して\n가끔 - 時々\n행복해요 - 幸せ\n슬퍼요 - 悲しい\n화나요 - 怒っている\n피곤해요 - 疲れた\n배고파요 - お腹が空いた\n목말라요 - のどが渇いた",zh:"안녕하세요 - 你好\n안녕 - 你好\n좋은 아침 - 早上好\n좋은 오후 - 下午好\n좋은 저녁 - 晚上好\n좋은 밤 - 晚安\n감사합니다 - 谢谢\n고마워요 - 谢谢\n천만에요 - 不客气\n죄송합니다 - 对不起\n미안해요 - 对不起\n실례합니다 - 不好意思\n부탁합니다 - 请\n네 - 是的\n아니요 - 不是\n아마도 - 可能\n물론 - 当然\n잘 지내세요 - 保重\n안녕히 가세요 - 再见\n나중에 봐요 - 一会儿见\n내일 봐요 - 明天见\n좋아요 - 好的\n나쁘다 - 不好\n훌륭해요 - 很棒\n좋네요 - 很好\n아름다워요 - 漂亮\n맛있어요 - 好吃\n어떻게 지내세요 - 你好吗\n괜찮아요 - 我很好\n이름이 뭐예요 - 你叫什么名字\n만나서 반가워요 - 很高兴见到你\n사랑해요 - 我爱你\n그리워요 - 我想你\n도움 - 帮助\n도움이 필요해요 - 帮帮我\n이해 못해요 - 我不明白\n중국어 할 줄 아세요 - 你会说中文吗\n물 - 水\n음식 - 食物\n커피 - 咖啡\n차 - 茶\n맥주 - 啤酒\n식당 - 餐厅\n호텔 - 酒店\n공항 - 机场\n역 - 车站\n병원 - 医院\n택시 - 出租车\n버스 - 公交车\n기차 - 火车\n얼마예요 - 多少钱\n비싸요 - 贵\n싸요 - 便宜\n오늘 - 今天\n내일 - 明天\n어제 - 昨天\n지금 - 现在\n나중에 - 稍后\n항상 - 总是\n절대 - 从不\n가끔 - 有时\n행복해요 - 开心\n슬퍼요 - 难过\n화나요 - 生气\n피곤해요 - 累\n배고파요 - 饿\n목말라요 - 渴"},en:{ko:"Hello - 안녕하세요\nHi - 안녕\nGood morning - 좋은 아침\nGood afternoon - 좋은 오후\nGood evening - 좋은 저녁\nGood night - 좋은 밤\nThank you - 감사합니다\nThanks - 고마워요\nYou're welcome - 천만에요\nSorry - 죄송합니다\nExcuse me - 실례합니다\nPlease - 부탁합니다\nYes - 네\nNo - 아니요\nMaybe - 아마도\nOf course - 물론\nGood - 좋아요\nBad - 나쁘다\nGreat - 훌륭해요\nNice - 좋네요\nBeautiful - 아름다워요\nDelicious - 맛있어요\nHow are you - 어떻게 지내세요\nI'm fine - 괜찮아요\nWhat's your name - 이름이 뭐예요\nNice to meet you - 만나서 반가워요\nGoodbye - 안녕히 가세요\nSee you later - 나중에 봐요\nSee you tomorrow - 내일 봐요\nI love you - 사랑해요\nI miss you - 그리워요\nHelp - 도움\nHelp me - 도움이 필요해요\nI don't understand - 이해 못해요\nDo you speak Korean - 한국어 할 줄 아세요\nWater - 물\nFood - 음식\nCoffee - 커피\nTea - 차\nBeer - 맥주\nRestaurant - 식당\nHotel - 호텔\nAirport - 공항\nStation - 역\nHospital - 병원\nTaxi - 택시\nBus - 버스\nTrain - 기차\nHow much - 얼마예요\nExpensive - 비싸요\nCheap - 싸요\nToday - 오늘\nTomorrow - 내일\nYesterday - 어제\nNow - 지금\nLater - 나중에\nAlways - 항상\nNever - 절대\nSometimes - 가끔\nHappy - 행복해요\nSad - 슬퍼요\nAngry - 화나요\nTired - 피곤해요\nHungry - 배고파요\nThirsty - 목말라요",ja:"Hello - こんにちは\nHi - こんにちは  \nGood morning - おはようございます\nGood afternoon - こんにちは\nGood evening - こんばんは\nGood night - おやすみなさい\nThank you - ありがとうございます\nThanks - ありがとう\nYou're welcome - どういたしまして\nSorry - すみません\nExcuse me - すみません\nPlease - お願いします\nYes - はい\nNo - いいえ\nMaybe - たぶん\nOf course - もちろん\nGood - 良い\nBad - 悪い\nGreat - 素晴らしい\nNice - いいね\nBeautiful - 美しい\nDelicious - おいしい\nHow are you - 元気ですか\nI'm fine - 元気です\nWhat's your name - お名前は何ですか\nNice to meet you - はじめまして\nGoodbye - さようなら\nSee you later - また後で\nSee you tomorrow - また明日\nI love you - 愛しています\nI miss you - 恋しいです\nHelp - 助けて\nHelp me - 助けてください\nI don't understand - わかりません\nDo you speak English - 英語を話せますか\nWater - 水\nFood - 食べ物\nCoffee - コーヒー\nTea - お茶\nBeer - ビール\nRestaurant - レストラン\nHotel - ホテル\nAirport - 空港\nStation - 駅\nHospital - 病院\nTaxi - タクシー\nBus - バス\nTrain - 電車\nHow much - いくらですか\nExpensive - 高い\nCheap - 安い\nToday - 今日\nTomorrow - 明日\nYesterday - 昨日\nNow - 今\nLater - 後で\nAlways - いつも\nNever - 決して\nSometimes - 時々\nHappy - 幸せ\nSad - 悲しい\nAngry - 怒っている\nTired - 疲れた\nHungry - お腹が空いた\nThirsty - のどが渇いた",zh:"Hello - 你好\nHi - 你好\nGood morning - 早上好\nGood afternoon - 下午好\nGood evening - 晚上好\nGood night - 晚安\nThank you - 谢谢\nThanks - 谢谢\nYou're welcome - 不客气\nSorry - 对不起\nExcuse me - 打扰一下\nPlease - 请\nYes - 是的\nNo - 不是\nMaybe - 也许\nOf course - 当然\nGood - 好的\nBad - 不好\nGreat - 很棒\nNice - 很好\nBeautiful - 美丽\nDelicious - 好吃\nHow are you - 你好吗\nI'm fine - 我很好\nWhat's your name - 你叫什么名字\nNice to meet you - 很高兴见到你\nGoodbye - 再见\nSee you later - 一会儿见\nSee you tomorrow - 明天见\nI love you - 我爱你\nI miss you - 我想你\nHelp - 帮助\nHelp me - 帮帮我\nI don't understand - 我不明白\nDo you speak English - 你会说英语吗\nWater - 水\nFood - 食物\nCoffee - 咖啡\nTea - 茶\nBeer - 啤酒\nRestaurant - 餐厅\nHotel - 酒店\nAirport - 机场\nStation - 车站\nHospital - 医院\nTaxi - 出租车\nBus - 公交车\nTrain - 火车\nHow much - 多少钱\nExpensive - 贵\nCheap - 便宜\nToday - 今天\nTomorrow - 明天\nYesterday - 昨天\nNow - 现在\nLater - 稍后\nAlways - 总是\nNever - 从不\nSometimes - 有时\nHappy - 开心\nSad - 难过\nAngry - 生气\nTired - 累\nHungry - 饿\nThirsty - 渴"},ja:{ko:"おはよう - 안녕하세요\nおはようございます - 안녕하세요\nこんにちは - 안녕하세요\nこんばんは - 안녕하세요\nありがとう - 고마워요\nありがとうございます - 감사합니다\nどうも - 고마워요\nすみません - 죄송합니다\nごめんなさい - 미안해요\nはい - 네\nいいえ - 아니요\nさようなら - 안녕히 가세요\nまた明日 - 내일 봐요\n愛しています - 사랑해요\n元気 - 건강해요\n大丈夫 - 괜찮아요",en:"おはよう - Good morning\nおはようございます - Good morning\nこんにちは - Hello\nこんばんは - Good evening\nありがとう - Thanks\nありがとうございます - Thank you\nどうも - Thanks\nすみません - Sorry\nごめんなさい - Sorry\nはい - Yes\nいいえ - No\nさようなら - Goodbye\nまた明日 - See you tomorrow\n良い - Good\n悪い - Bad\n元気 - Fine\n大丈夫 - Okay",zh:"おはよう - 早上好\nおはようございます - 早上好\nこんにちは - 你好\nこんばんは - 晚上好\nありがとう - 谢谢\nありがとうございます - 谢谢\nすみません - 对不起\nごめんなさい - 对不起\nはい - 是的\nいいえ - 不是\nさようなら - 再见"},zh:{ko:"你好 - 안녕하세요\n您好 - 안녕하세요\n早上好 - 좋은 아침\n下午好 - 좋은 오후\n晚上好 - 좋은 저녁\n晚安 - 좋은 밤\n谢谢 - 감사합니다\n谢谢你 - 고마워요\n不客气 - 천만에요\n对不起 - 죄송합니다\n不好意思 - 실례합니다\n请 - 부탁합니다\n是的 - 네\n不是 - 아니요\n可能 - 아마도\n当然 - 물론\n好的 - 좋아요\n不好 - 나쁘다\n很棒 - 훌륭해요\n很好 - 좋네요\n漂亮 - 아름다워요\n好吃 - 맛있어요\n你好吗 - 어떻게 지내세요\n我很好 - 괜찮아요\n你叫什么名字 - 이름이 뭐예요\n很高兴见到你 - 만나서 반가워요\n再见 - 안녕히 가세요\n一会儿见 - 나중에 봐요\n明天见 - 내일 봐요\n我爱你 - 사랑해요\n我想你 - 그리워요\n帮助 - 도움\n帮帮我 - 도움이 필요해요\n我不明白 - 이해 못해요\n你会说中文吗 - 중국어 할 줄 아세요\n水 - 물\n食物 - 음식\n咖啡 - 커피\n茶 - 차\n啤酒 - 맥주\n餐厅 - 식당\n酒店 - 호텔\n机场 - 공항\n车站 - 역\n医院 - 병원\n出租车 - 택시\n公交车 - 버스\n火车 - 기차\n多少钱 - 얼마예요\n贵 - 비싸요\n便宜 - 싸요\n今天 - 오늘\n明天 - 내일\n昨天 - 어제\n现在 - 지금\n稍后 - 나중에\n总是 - 항상\n从不 - 절대\n有时 - 가끔\n开心 - 행복해요\n难过 - 슬퍼요\n生气 - 화나요\n累 - 피곤해요\n饿 - 배고파요\n渴 - 목말라요",en:"你好 - Hello\n您好 - Hello\n早上好 - Good morning\n下午好 - Good afternoon\n晚上好 - Good evening\n晚安 - Good night\n谢谢 - Thank you\n谢谢你 - Thanks\n不客气 - You're welcome\n对不起 - Sorry\n不好意思 - Excuse me\n请 - Please\n是的 - Yes\n不是 - No\n可能 - Maybe\n当然 - Of course\n好的 - Good\n不好 - Bad\n很棒 - Great\n很好 - Nice\n漂亮 - Beautiful\n好吃 - Delicious\n你好吗 - How are you\n我很好 - I'm fine\n你叫什么名字 - What's your name\n很高兴见到你 - Nice to meet you\n再见 - Goodbye\n一会儿见 - See you later\n明天见 - See you tomorrow\n我爱你 - I love you\n我想你 - I miss you\n帮助 - Help\n帮帮我 - Help me\n我不明白 - I don't understand\n你会说英语吗 - Do you speak English\n水 - Water\n食物 - Food\n咖啡 - Coffee\n茶 - Tea\n啤酒 - Beer\n餐厅 - Restaurant\n酒店 - Hotel\n机场 - Airport\n车站 - Station\n医院 - Hospital\n出租车 - Taxi\n公交车 - Bus\n火车 - Train\n多少钱 - How much\n贵 - Expensive\n便宜 - Cheap\n今天 - Today\n明天 - Tomorrow\n昨天 - Yesterday\n现在 - Now\n稍后 - Later\n总是 - Always\n从不 - Never\n有时 - Sometimes\n开心 - Happy\n难过 - Sad\n生气 - Angry\n累 - Tired\n饿 - Hungry\n渴 - Thirsty",ja:"你好 - こんにちは\n您好 - こんにちは\n早上好 - おはようございます\n下午好 - こんにちは\n晚上好 - こんばんは\n晚安 - おやすみなさい\n谢谢 - ありがとうございます\n谢谢你 - ありがとう\n不客气 - どういたしまして\n对不起 - すみません\n不好意思 - すみません\n请 - お願いします\n是的 - はい\n不是 - いいえ\n可能 - たぶん\n当然 - もちろん\n好的 - 良い\n不好 - 悪い\n很棒 - 素晴らしい\n很好 - いいね\n漂亮 - 美しい\n好吃 - おいしい\n你好吗 - 元気ですか\n我很好 - 元気です\n你叫什么名字 - お名前は何ですか\n很高兴见到你 - はじめまして\n再见 - さようなら\n一会儿见 - また後で\n明天见 - また明日\n我爱你 - 愛しています\n我想你 - 恋しいです\n帮助 - 助けて\n帮帮我 - 助けてください\n我不明白 - わかりません\n你会说日语吗 - 日本語を話せますか\n水 - 水\n食物 - 食べ物\n咖啡 - コーヒー\n茶 - お茶\n啤酒 - ビール\n餐厅 - レストラン\n酒店 - ホテル\n机场 - 空港\n车站 - 駅\n医院 - 病院\n出租车 - タクシー\n公交车 - バス\n火车 - 電車\n多少钱 - いくらですか\n贵 - 高い\n便宜 - 安い\n今天 - 今日\n明天 - 明日\n昨天 - 昨日\n现在 - 今\n稍后 - 後で\n总是 - いつも\n从不 - 決して\n有时 - 时々\n开心 - 幸せ\n难过 - 悲しい\n生气 - 怒っている\n累 - 疲れた\n饿 - お腹が空いた\n渴 - のどが渇いた"}};async function ra(e,t,n){var a;const s=null==(a=sa[t])?void 0:a[n];if(!s)throw new Error(`Offline translation not available for ${t} to ${n}`);const r=e.toLowerCase(),i=s.split("\n");for(const o of i){const[e,a]=o.split(" - ");if(e&&a&&r.includes(e.toLowerCase()))return{translatedText:a,sourceLanguage:t,targetLanguage:n,confidence:.6,provider:"offline"}}return{translatedText:`${e} (번역 불가 - Translation unavailable)`,sourceLanguage:t,targetLanguage:n,confidence:.1,provider:"offline"}}class ia{constructor(){t(this,"cache",new Map),t(this,"maxSize",2e3),t(this,"maxAge",864e5)}getCacheKey(e,t,n){return`${t}-${n}-${e.length>100?`${e.slice(0,50)}...${e.slice(-50)}[${e.length}]`:e}`}get(e,t,n){const a=this.getCacheKey(e,t,n),s=this.cache.get(a);return s?Date.now()-s.timestamp>this.maxAge?(this.cache.delete(a),null):(s.accessCount++,s.timestamp=Date.now(),this.cache.set(a,s),s.result):null}set(e,t,n,a){this.cache.size>=this.maxSize&&this.evictLRU();const s=t||"auto",r=this.getCacheKey(e,s,n);this.cache.set(r,{result:a,timestamp:Date.now(),accessCount:1})}evictLRU(){let e="",t=Date.now(),n=1/0;for(const[a,s]of this.cache)(s.timestamp<t||s.timestamp===t&&s.accessCount<n)&&(e=a,t=s.timestamp,n=s.accessCount);e&&this.cache.delete(e)}clear(){this.cache.clear()}}const oa=class e{constructor(){t(this,"cache",new ia),t(this,"settings",{preferredProvider:"auto",autoDetectLanguage:!0,fallbackToOffline:!0,cacheTranslations:!0}),this.loadSettings()}static getInstance(){return e.instance||(e.instance=new e),e.instance}loadSettings(){try{const e=localStorage.getItem("translation-settings");e&&(this.settings={...this.settings,...JSON.parse(e)})}catch(pa){}}saveSettings(){localStorage.setItem("translation-settings",JSON.stringify(this.settings))}updateSettings(e){this.settings={...this.settings,...e},this.saveSettings()}getSettings(){return{...this.settings}}async translate(e,t,n){try{const a=e.trim();if(!a)throw new Error("Empty text provided");const s=n||(this.settings.autoDetectLanguage?function(e){const t=e.trim().replace(/\s+/g," ");if(t.length<10)return/[\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]/.test(t)?"ja":/[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F]/.test(t)?"ko":/[\u4E00-\u9FFF]/.test(t)?"zh":/[\u0600-\u06FF]/.test(t)?"ar":/[\u0400-\u04FF]/.test(t)?"ru":"en";try{const e=Se(t);return e&&Sn[e]?Sn[e]:e&&2===e.length?e:"en"}catch(n){return"en"}}(a):"en");if(s===t)return{translatedText:a,sourceLanguage:s,targetLanguage:t,confidence:1,provider:"offline"};if(["hello","hi","thanks","thank you","bye","goodbye"].some(e=>a.toLowerCase().includes(e))&&this.cache.clear(),this.settings.cacheTranslations){const e=this.cache.get(a,s||"auto",t);if(e&&e.confidence&&e.confidence>.5)return e}const r=await this.translateWithFallback(a,s||"auto",t);return this.settings.cacheTranslations&&r.confidence&&r.confidence>.3&&this.cache.set(a,s||"auto",t,r),r}catch(a){throw a}}async translateWithFallback(e,t,n){const a=this.getProviderChain(),s=[];for(const i of a)try{switch(i){case"mymemory":return await na(e,t,n);case"libretranslate":return await aa(e,t,n);case"offline":return await ra(e,t,n);default:throw new Error(`Unknown provider: ${i}`)}}catch(r){s.push(r);continue}throw new Error(`All translation providers failed. Errors: ${s.map(e=>e.message).join(", ")}`)}getProviderChain(){const{preferredProvider:e,fallbackToOffline:t}=this.settings;if("auto"!==e){const n=[e];return t&&"offline"!==e&&n.push("offline"),n}const n=["mymemory","libretranslate"];return t&&n.push("offline"),n}async translateToMultipleLanguages(e,t,n){const a={},s=t.map(async t=>{try{const s=await this.translate(e,t,n);a[t]=s}catch(s){a[t]={translatedText:e,sourceLanguage:n||"unknown",targetLanguage:t,confidence:0,provider:"offline"}}});return await Promise.allSettled(s),a}getStatistics(){return{cacheSize:this.cache.cache.size,settings:this.settings}}clearCache(){this.cache.clear()}};t(oa,"instance");const la=oa.getInstance(),ca=class e{constructor(){t(this,"activeListeners",new Map)}static getInstance(){return e.instance||(e.instance=new e),e.instance}async createRoom(e,t,n){try{const a={name:e,participants:[t],createdAt:$(),updatedAt:$(),supportedLanguages:n,createdBy:t};return(await V(z(Xt,"rooms"),a)).id}catch(a){throw a}}async joinRoom(e,t){try{const n=F(Xt,"rooms",e);await M(n,{participants:J(t),updatedAt:$()})}catch(n){throw n}}async leaveRoom(e,t){try{const n=F(Xt,"rooms",e);await M(n,{participants:Y(t),updatedAt:$()})}catch(n){throw n}}async sendMessage(e,t,n,a,s=[]){try{const r={userId:t,userName:n,originalText:a,originalLanguage:"auto",translations:{},timestamp:Date.now(),isTranslating:s.length>0},i=await V(z(Xt,"rooms",e,"messages"),{...r,createdAt:$()});return s.length>0&&(await M(i,{translationProgress:0,translationTotal:s.length}),this.translateMessage(e,i.id,a,s).catch(t=>{this.updateMessageTranslationError(e,i.id,t.message)})),i.id}catch(r){throw r}}async translateMessage(e,t,n,a){try{const s=F(Xt,"rooms",e,"messages",t),r={},i=async(e,t)=>{r[e]=t,await M(s,{translations:{...r},updatedAt:$()})},o=a.map(async e=>{try{const t=await la.translate(n,e);return await i(e,t.translatedText),{lang:e,result:t}}catch(t){throw await i(e,`[번역 실패: ${e}]`),t}}),l=(await Promise.allSettled(o)).some(e=>"rejected"===e.status),c={translations:r,isTranslating:!1,updatedAt:$()};l&&(c.translationError="일부 번역 실패"),await M(s,c)}catch(s){throw s}}async updateMessageTranslationError(e,t,n){try{const a=F(Xt,"rooms",e,"messages",t),s={isTranslating:!1,updatedAt:$()};n&&n.trim()&&(s.translationError=n),await M(a,s)}catch(a){}}subscribeToMessages(e,t,n=50){const a=z(Xt,"rooms",e,"messages"),s=G(a,Q("createdAt","desc"),K(n)),r=W(s,e=>{const n=[];e.forEach(e=>{const t=e.data();if(t){const a={id:e.id,userId:t.userId,userName:t.userName,originalText:t.originalText,originalLanguage:t.originalLanguage||"auto",translations:t.translations||{},timestamp:t.timestamp||Date.now(),isTranslating:t.isTranslating||!1};t.translationError&&t.translationError.trim()&&(a.translationError=t.translationError),n.push(a)}}),t(n.reverse())},e=>{t([])});return this.activeListeners.set(`messages-${e}`,r),r}subscribeToUserRooms(e,t){const n=z(Xt,"rooms"),a=G(n,_("participants","array-contains",e)),s=W(a,e=>{const n=[];e.forEach(e=>{var t,a;const s=e.data();s&&n.push({id:e.id,name:s.name,participants:s.participants||[],createdAt:(null==(t=s.createdAt)?void 0:t.toMillis())||Date.now(),updatedAt:(null==(a=s.updatedAt)?void 0:a.toMillis())||Date.now(),supportedLanguages:s.supportedLanguages||["en","ko"],createdBy:s.createdBy})}),t(n)},e=>{t([])});return this.activeListeners.set(`rooms-${e}`,s),s}async getRoomDetails(e){var t,n;try{const a=await X(G(z(Xt,"rooms"),_("__name__","==",e)));if(a.empty)return null;const s=a.docs[0].data();return{id:e,name:s.name,participants:s.participants||[],createdAt:(null==(t=s.createdAt)?void 0:t.toMillis())||Date.now(),updatedAt:(null==(n=s.updatedAt)?void 0:n.toMillis())||Date.now(),supportedLanguages:s.supportedLanguages||["en","ko"]}}catch(a){return null}}async deleteMessage(e,t){try{const n=F(Xt,"rooms",e,"messages",t);await Z(n)}catch(n){throw n}}cleanup(){for(const[t,n]of this.activeListeners)try{n()}catch(e){}this.activeListeners.clear()}cleanupListener(e){const t=this.activeListeners.get(e);if(t)try{t(),this.activeListeners.delete(e)}catch(n){}}async sendTypingIndicator(e,t,n,a){try{const i=z(Xt,"rooms",e,"typing"),o=F(i,t);if(a)try{await M(o,{userName:n,isTyping:!0,timestamp:Date.now()})}catch(s){if("not-found"!==s.code)throw s;await H(o,{userId:t,userName:n,isTyping:!0,timestamp:Date.now()})}else try{await M(o,{isTyping:!1,timestamp:Date.now()})}catch(r){if("not-found"!==r.code)throw r}}catch(r){}}subscribeToTypingIndicators(e,t,n){const a=z(Xt,"rooms",e,"typing"),s=G(a,_("isTyping","==",!0)),r=W(s,e=>{const a=[],s=Date.now();e.forEach(e=>{const n=e.data();n.userId!==t&&n.isTyping&&s-n.timestamp<5e3&&a.push(n.userName)}),n(a)},e=>{n([])});return this.activeListeners.set(`typing-${e}`,r),r}async getMessageCount(e){try{const t=z(Xt,"rooms",e,"messages");return(await X(t)).size}catch(t){return 0}}async deleteRoom(e,t){try{const n=F(Xt,"rooms",e),a=await B(n);if(!a.exists())throw new Error("방을 찾을 수 없습니다.");const s=a.data();if(s.createdBy&&s.createdBy!==t)throw new Error(`방 삭제 권한이 없습니다. 방을 만든 사용자만 삭제할 수 있습니다. (방 만든이: ${s.createdBy}, 현재 사용자: ${t})`);s.createdBy;const r=z(Xt,"messages"),i=G(r,_("roomId","==",e)),o=(await X(i)).docs.map(e=>Z(e.ref));await Promise.all(o);const l=z(Xt,"typing"),c=G(l,_("roomId","==",e)),d=(await X(c)).docs.map(e=>Z(e.ref));await Promise.all(d),await Z(n)}catch(n){throw n}}};t(ca,"instance");const da=ca.getInstance();function ua(){const[e,t,n]=jn(Qt),[s,i]=a.useState({}),[o,l]=a.useState(!1),c=e=>{switch(e){case"success":return r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-100 text-green-800 text-sm",children:[r.jsx(ke,{className:"w-3 h-3 mr-1"}),"Success"]});case"error":return r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-red-100 text-red-800 text-sm",children:[r.jsx(Ne,{className:"w-3 h-3 mr-1"}),"Error"]});default:return r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-gray-800 text-sm",children:[r.jsx(je,{className:"w-3 h-3 mr-1"}),"Unknown"]})}};return r.jsxs(cn,{className:"w-full max-w-2xl mx-auto",children:[r.jsx(dn,{children:r.jsxs(un,{className:"flex items-center gap-2",children:["🧪 Firebase Debug Console",o&&r.jsx(he,{className:"h-4 w-4 animate-spin"})]})}),r.jsxs(hn,{className:"space-y-4",children:[r.jsx(ln,{onClick:async()=>{l(!0);const a={},s="test@example.com",r="testpass123";try{if(a.auth={user:e?{uid:e.uid,isAnonymous:e.isAnonymous,displayName:e.displayName,email:e.email}:null,loading:t,error:null==n?void 0:n.message},e)a.authentication={status:"already_authenticated",uid:e.uid};else try{await en.signInAnonymously(),a.authentication={method:"anonymous",status:"success"}}catch(o){try{await en.signUp(s,r,"Test User"),a.authentication={method:"signup",status:"success",email:s}}catch(c){if("auth/email-already-in-use"===c.code)try{await en.signIn(s,r),a.authentication={method:"signin",status:"success",email:s}}catch(d){a.authentication={status:"error",message:d.message}}else a.authentication={status:"error",message:c.message}}}if(e)try{const t=await da.createRoom(`Test Room ${Date.now()}`,e.uid,["ko","en"]);a.roomCreation={status:"success",roomId:t};try{const n=await da.sendMessage(t,e.uid,e.displayName||"Test User","Hello, this is a test message!",["ko"]);a.messageSending={status:"success",messageId:n}}catch(o){a.messageSending={status:"error",message:o.message}}}catch(o){a.roomCreation={status:"error",message:o.message}}}catch(o){a.error=o.message}i(a),l(!1)},disabled:o,className:"w-full",children:o?r.jsxs(r.Fragment,{children:[r.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Tests..."]}):"Run Firebase Tests"}),Object.keys(s).length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold",children:"Test Results:"}),s.auth&&r.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Authentication"}),r.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(s.auth,null,2)})]}),s.authentication&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[r.jsxs("span",{className:"font-medium",children:["Authentication (",s.authentication.method||"unknown",")"]}),c(s.authentication.status)]}),s.roomCreation&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Room Creation"}),c(s.roomCreation.status)]}),s.messageSending&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Message Sending"}),c(s.messageSending.status)]}),s.error&&r.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-destructive mb-1",children:"Error"}),r.jsx("p",{className:"text-sm text-destructive",children:s.error})]})]})]})]})}function ma(){return r.jsx("div",{className:"min-h-screen bg-background p-4",children:r.jsxs("div",{className:"container mx-auto py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Debug Console"}),r.jsx(ua,{})]})})}function ha(){return a.useEffect(()=>{en.setupOfflineDetection()},[]),r.jsx(zt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsx(Ft,{children:r.jsxs(It,{path:"/",element:r.jsx(an,{}),children:[r.jsx(It,{index:!0,element:r.jsx(Nn,{})}),r.jsx(It,{path:"auth",element:r.jsx(Un,{})}),r.jsx(It,{path:"debug",element:r.jsx(ma,{})}),r.jsx(It,{path:"chat",element:r.jsx(sn,{children:r.jsx(Dn,{})})}),r.jsx(It,{path:"settings",element:r.jsx(sn,{children:r.jsx(Zn,{})})})]})})})}"undefined"!=typeof window&&(window.testTranslation=async function(){const e=[{text:"hello",target:"ko",expected:"안녕"},{text:"thank you",target:"ko",expected:"감사"},{text:"good morning",target:"ko",expected:"좋은 아침"},{text:"안녕하세요",target:"en",expected:"hello"},{text:"how are you?",target:"ko",expected:"어떻게"}],t=[];for(const s of e)try{const e=await la.translate(s.text,s.target),n=e.translatedText.toLowerCase().includes(s.expected),a=e.confidence||0;t.push({...s,result:e.translatedText,provider:e.provider,confidence:a,success:n,status:n?"✅":"❌"})}catch(a){const e=a instanceof Error?a.message:String(a);t.push({...s,result:"ERROR",provider:"none",confidence:0,success:!1,status:"💥",error:e})}t.filter(e=>e.success).length,t.length;const n=t.reduce((e,t)=>(e[t.provider]||(e[t.provider]={total:0,success:0}),e[t.provider].total++,t.success&&e[t.provider].success++,e),{});for(const[s,r]of Object.entries(n))r.success,r.total;return t}),Te.createRoot(document.getElementById("root")).render(r.jsx(C.StrictMode,{children:r.jsx(ha,{})}));export{ln as B,cn as C,kn as I,Cn as S,en as a,da as b,rn as c,dn as d,un as e,hn as f,En as g,bt as u};
